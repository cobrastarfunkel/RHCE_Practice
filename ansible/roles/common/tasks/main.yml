---
- name: Install basic Packages
  yum:
    name: "{{ item }}"
    state: present
  with_items:
    - vim-enhanced
    - screen
    - mlocate
    - bash-completion

- name: Set Hostname and fqdn based on Ansible Inventory
  command: hostnamectl set-hostname '{{ inventory_hostname }}.{{ domain }}'
  when: (ansible_hostname not in inventory_hostname) or
        (ansible_domain not in long_domain)

- name: Template hosts file
  template:
    src: templates/hosts.j2
    dest: /etc/hosts
    owner: root
    group: root
    mode: '0600'

- name: Copy screenrc
  copy:
    src: files/screenrc
    dest: /etc/screenrc


